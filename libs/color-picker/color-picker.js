/*!
 * ==============================================================
 *  COLOR PICKER 2.1.6
 * ==============================================================
 * Author: Taufik Nurrohman <https://github.com/taufik-nurrohman>
 * License: MIT
 * --------------------------------------------------------------*/
((e,t)=>{let n=t.documentElement,r="HEX",i="top",o="right",u="left",c="px",l=e.setTimeout,_=["touchstart","mousedown"],f=["touchmove","mousemove"],s=["orientationchange","resize"],$=["touchend","mouseup"];function a(e){let t,n,r,i,o,u,c,l,_=+e[0],f=+e[1],s=+e[2];switch(u=s*(1-f),c=s*(1-(o=6*_-(i=Math.floor(6*_)))*f),i=i||0,c=c||0,l=(l=s*(1-(1-o)*f))||0,i%6){case 0:t=s,n=l,r=u;break;case 1:t=c,n=s,r=u;break;case 2:t=u,n=s,r=l;break;case 3:t=u,n=c,r=s;break;case 4:t=l,n=u,r=s;break;case 5:t=s,n=u,r=c}return[X(255*t),X(255*n),X(255*r),C(e[3])?+e[3]:1]}function d(e){let t,n,r=+e[0]/255,i=+e[1]/255,o=+e[2]/255,u=Math.max(r,i,o),c=Math.min(r,i,o),l=u-c;if(n=0===u?0:l/u,u===c)t=0;else{switch(u){case r:t=(i-o)/l+(i<o?6:0);break;case i:t=(o-r)/l+2;break;case o:t=(r-i)/l+4}t/=6}return[t,n,u,C(e[3])?+e[3]:1]}function h(e,t){let n=t.touches?t.touches[0].clientX:t.clientX,r=t.touches?t.touches[0].clientY:t.clientY,i=y(e);return[n-i[0],r-i[1]]}function g(e,t){if(e===t)return e;for(;(e=e.parentElement)&&e!==t;);return e}function p(e){e&&e.preventDefault()}function v(e,t,n){for(let r=0,i=t.length;r<i;++r)e.removeEventListener(t[r],n,!1)}function b(e,t,n){for(let r=0,i=t.length;r<i;++r)e.addEventListener(t[r],n,!1)}function m(e){return"function"==typeof e}function C(e){return null!=e}function k(e){return"string"==typeof e}function y(t){let r,i,o;return t===e?(r=e.pageXOffset||n.scrollLeft,i=e.pageYOffset||n.scrollTop):(r=(o=t.getBoundingClientRect()).left,i=o.top),[r,i]}function x(t){return t===e?[e.innerWidth,e.innerHeight]:[t.offsetWidth,t.offsetHeight]}function E(e,t,n){e.style[t]=n}function P(e,t){return e<t[0]?t[0]:e>t[1]?t[1]:e}function w(e,t){return parseInt(e,t||10)}function H(e,n,r){return e=t.createElement(e),n&&n.appendChild(e),r&&(e.className=r),e}function X(e){return Math.round(e)}function L(e,t){return e.toString(t)}(e=>{e[r]=e=>{if(k(e)){let t=(e=e.trim()).length;if(4!==t&&7!==t||"#"!==e[0]){if((5===t||9===t)&&"#"===e[0]&&/^#([a-f\d]{3,4}){1,2}$/i.test(e))return 5===t?[w(e[1]+e[1],16),w(e[2]+e[2],16),w(e[3]+e[3],16),w(e[4]+e[4],16)/255]:[w(e[1]+e[2],16),w(e[3]+e[4],16),w(e[5]+e[6],16),w(e[7]+e[8],16)/255]}else if(/^#([a-f\d]{3}){1,2}$/i.test(e))return 4===t?[w(e[1]+e[1],16),w(e[2]+e[2],16),w(e[3]+e[3],16),1]:[w(e[1]+e[2],16),w(e[3]+e[4],16),w(e[5]+e[6],16),1];return[0,0,0,1]}return"#"+("000000"+L(+e[2]|+e[1]<<8|+e[0]<<16,16)).slice(-6)+(C(e[3])&&e[3]<1?L(X(255*e[3])+65536,16).substr(-2):"")},e.instances={},e.state={class:"color-picker",color:r,parent:null},e.version="2.1.6"})(e.CP=function(w,X){if(!w)return;let L=this,Y=e.CP,N={},O=Object.assign({},Y.state,k(X)?{color:X}:X||{}),T=O.class,W=H("div",0,T);if(w.CP)return L;if(!(L instanceof Y))return new Y(w,X);Y.instances[w.id||w.name||Object.keys(Y.instances).length]=L,w.CP=1,L.visible=!1;let z,B,D,I,R=t.body,S=el(),q=d(S),A=H("div",W),F=H("div",A,T+":sv"),G=H("div",A,T+":h"),J=H("div",A,T+":a"),K=H("div",F),M=(H("div",F),H("div",F),H("i",F)),Q=(H("div",G),H("i",G)),U=H("div",J),V=(H("div",J),H("i",J)),Z=0,ee=0,et=0,en=0,er=0,ei=0;function eo(e){N.focus?eu("focus",S):w===g(e.target,w)?ec()||z(O.parent):B()}function eu(e,t){if(!C(N[e]))return L;for(let n=0,r=N[e].length;n<r;++n)N[e][n].apply(L,t);return L}function ec(){return W.parentNode}function el(e){let t,n=Y[m(Y[O.color])?O.color:r];return(t=w.dataset.color)?C(e)?w.dataset.color=n(t):n(t):(t=w.value)?C(e)?w.value=n(t):n(t):(t=w.textContent)?C(e)?w.textContent=n(t):n(t):C(e)?void 0:[0,0,0,1]}!function r(m,k){q=d(S=el()),m||((O.parent||R).appendChild(W),L.visible=!0),z=e=>(r(0,e),eu("enter",S),L),B=()=>{let n=ec();return n&&(n.removeChild(W),L.current=null,L.visible=!1),v(F,_,eh),v(G,_,eg),v(J,_,ep),v(t,f,ed),v(t,$,e0),v(e,s,I),eu("exit",S),L},D=t=>{let r=x(e),o=x(n),l=r[0]-o[0],_=r[1]-n.clientHeight,f=y(e),s=y(w),$=x(W),a=$[0],d=$[1],h=s[0]+f[0],g=s[1]+f[1]+x(w)[1];if("object"==typeof t)C(t[0])&&(h=t[0]),C(t[1])&&(g=t[1]);else{let p=f[0],v=f[1],b=f[0]+r[0]-a-l,m=f[1]+r[1]-d-_;h=P(h,[p,b])>>0,g=P(g,[v,m])>>0}return E(W,u,h+c),E(W,i,g+c),eu("fit",S),L},I=()=>D();let H=x(F),X=H[0],Y=H[1],T=x(M),A=T[0],e_=T[1],ef=x(G)[1],es=x(Q)[1],e$=x(J)[1],ea=x(V)[1];function ed(e){var t,n,r;let i,o,u;en&&(o=P((i=h(F,t=e))[0],[0,X]),u=P(i[1],[0,Y]),q[1]=1-(X-o)/X,q[2]=(Y-u)/Y,ev()),er&&(n=e,q[0]=(ef-P(h(G,n)[1],[0,ef]))/ef,ev()),ei&&(r=e,q[3]=(e$-P(h(J,r)[1],[0,e$]))/e$,ev()),S=a(q),(en||er||ei)&&(eu(Z||ee||et?"start":"drag",S),eu("change",S)),Z=ee=et=0}function e0(e){S=a(q);let t=e.target,n=w===g(t,w),r=W===g(t,W);L.current=null,n||r?r&&(en||er||ei)&&eu("stop",S):N.blur?eu("blur",S):ec()&&B(),en=er=ei=0}function eh(e){L.current=F,Z=en=1,ed(e),p(e)}function eg(e){L.current=G,ee=er=1,ed(e),p(e)}function ep(e){L.current=J,et=ei=1,ed(e),p(e)}function ev(){var e;C((e=q)[1])&&E(M,o,X-A/2-X*+e[1]+c),C(e[2])&&E(M,i,Y-e_/2-Y*+e[2]+c),C(e[0])&&E(Q,i,ef-es/2-ef*+e[0]+c),C(e[3])&&E(V,i,e$-ea/2-e$*+e[3]+c);let t=a(q),n=a([q[0],1,1]);E(K,"backgroundColor","rgb("+n[0]+","+n[1]+","+n[2]+")"),E(U,"backgroundImage","linear-gradient(rgb("+t[0]+","+t[1]+","+t[2]+"),transparent)")}m?(b(w,_,eo),l(()=>{eu("change",S)},1)):(b(F,_,eh),b(G,_,eg),b(J,_,ep),b(t,f,ed),b(t,$,e0),b(e,s,I),D()),L.get=()=>el(),L.set=(e,t,n,r)=>(q=d([e,t,n,r]),ev(),L),ev()}(1),L.color=(e,t,n,i)=>Y[m(Y[O.color])?O.color:r]([e,t,n,i]),L.current=null,L.enter=z,L.exit=B,L.fire=eu,L.fit=D,L.hooks=N,L.off=function(e,t){if(!C(e))return N={},L;if(C(N[e])){if(C(t)){for(let n=0,r=N[e].length;n<r;++n)t===N[e][n]&&N[e].splice(n,1);0===j&&delete N[e]}else delete N[e]}return L},L.on=function(e,t){return C(N[e])||(N[e]=[]),C(t)&&N[e].push(t),L},L.pop=()=>w.CP?(delete w.CP,v(w,_,eo),B(),eu("pop",S)):L,L.self=W,L.source=w,L.state=O,L.value=(e,t,n,r)=>(L.set(e,t,n,r),eu("change",[e,t,n,r]))})})(window,document);