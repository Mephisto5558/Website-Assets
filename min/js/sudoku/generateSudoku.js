import{getGroupId}from"./utils.js";function createHTMLBoard(a){var r=Math.sqrt(a);if(!Number.isInteger(r))throw new Error("Size must be quadratic.");console.debug("Creating HTML board of size "+a);var n=document.querySelector("#sudoku");n.innerHTML="";for(let e=0;e<r;e++){var t=document.createElement("colgroup");for(let e=0;e<r;e++)t.append(document.createElement("col"));n.append(t)}for(let t=0;t<r;t++){var o=document.createElement("tbody");for(let e=0;e<r;e++){var d=document.createElement("tr"),l=t*r+e;for(let e=0;e<a;e++){var u=document.createElement("td"),c=document.createElement("input"),s=(c.type="number",c.title="",c.required=!0,c.autocomplete="off",c.dataset.row=l+1,c.dataset.col=e+1,c.dataset.group=getGroupId(l,e,r)+1,c.ariaLabel=`Row ${l+1}, Column `+(e+1),document.createElement("div"));s.classList.add("notes"),s.append(...Array.from({length:8},(e,t)=>{var a=document.createElement("span");return a.contentEditable="plaintext-only",a.dataset.note=t+Number(3<t)+1,a})),u.append(c),u.append(s),d.append(u)}o.append(d)}n.append(o)}}function createHTMLOverviewSpans(e){var a=Math.sqrt(e);if(!Number.isInteger(a))throw new Error("Size must be quadratic.");console.debug("Creating HTML overview span of size "+e);var e=document.querySelector("#number-overview"),r=(e.innerHTML="",document.createElement("tbody"));for(let t=0;t<a;t++){var n=document.createElement("tr");for(let e=0;e<a;e++){var o=document.createElement("td"),d=document.createElement("span");d.textContent="0",o.textContent=a*t+e+1+": ",o.append(d),n.append(o)}r.append(n)}return e.append(r),e}function displayBoard(e,t,a,r=!1){for(var n of t.flat())r||n.classList.remove("solution"),r&&!n.disabled&&(n.value&&(n.dataset.val=n.value),n.classList.add("solution")),n.value=e[Number(n.dataset.row)-1][Number(n.dataset.col)-1]||Number(n.dataset.val)||void 0,n.disabled=r||!!n.value&&!n.dataset.val,r||delete n.dataset.val;var o,d;for([o,d]of e.flat().reduce((e,t)=>(e[t-1]++,e),Array.from({length:e.length},()=>0)).entries())a[o].textContent=d,a[o].classList[d==e.length?"add":"remove"]("complete")}export{createHTMLBoard,createHTMLOverviewSpans,displayBoard};