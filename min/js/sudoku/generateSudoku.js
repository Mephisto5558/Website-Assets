import{getGroupId}from"./utils.js";function getNumberAmounts(e){return e.flat().reduce((e,t)=>e.set(t,(e.get(t)??0)+1),new Map)}function createHTMLBoard(r){var a=Math.sqrt(r);if(!Number.isInteger(a))throw new Error("Size must be quadratic.");console.debug("Creating HTML board of size "+r);var o=document.querySelector("#sudoku");o.innerHTML="";for(let e=0;e<a;e++){var t=document.createElement("colgroup");for(let e=0;e<a;e++)t.append(document.createElement("col"));o.append(t)}for(let t=0;t<a;t++){var n=document.createElement("tbody");for(let e=0;e<a;e++){var d=document.createElement("tr"),u=t*a+e;for(let e=0;e<r;e++){var l=document.createElement("td"),c=document.createElement("input");c.type="number",c.title="",c.required=!0,c.autocomplete="off",c.dataset.row=u+1,c.dataset.col=e+1,c.dataset.group=getGroupId(u,e,a)+1,c.ariaLabel=`Row ${u+1}, Column `+(e+1),l.append(c),d.append(l)}n.append(d)}o.append(n)}}function createHTMLOverviewSpans(e){var r=Math.sqrt(e);if(!Number.isInteger(r))throw new Error("Size must be quadratic.");console.debug("Creating HTML overview span of size "+e);var e=document.querySelector("#number-overview"),a=(e.innerHTML="",document.createElement("tbody"));for(let t=0;t<r;t++){var o=document.createElement("tr");for(let e=0;e<r;e++){var n=document.createElement("td"),d=document.createElement("span");d.textContent="0",n.textContent=r*t+e+1+": ",n.append(d),o.append(n)}a.append(o)}return e.append(a),e}function displayBoard(e,t,r,a=!1){for(var o of t.flat())a||o.classList.remove("solution"),a&&!o.disabled&&(o.value&&(o.dataset.val=o.value),o.classList.add("solution")),o.value=e[Number(o.dataset.row)-1][Number(o.dataset.col)-1]||Number(o.dataset.val)||void 0,o.disabled=a||!!o.value&&!o.dataset.val,a||delete o.dataset.val;for(var[n,d]of getNumberAmounts(e))n&&(r[n-1].textContent=d,r[n-1].classList[globalThis.fullBoardNumberAmt.get(n)==d?"add":"remove"]("complete"))}export{getNumberAmounts,createHTMLBoard,createHTMLOverviewSpans,displayBoard};