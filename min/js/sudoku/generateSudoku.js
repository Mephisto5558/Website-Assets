import{getGroupId}from"./utils.js";function getNumberAmounts(e){return e.flat().reduce((e,t)=>e.set(t,(e.get(t)??0)+1),new Map)}function createHTMLBoard(a){var r=Math.sqrt(a);if(!Number.isInteger(r))throw new Error("Size must be quadratic.");console.debug("Creating HTML board of size "+a);var o=document.querySelector("#sudoku");o.innerHTML="";for(let e=0;e<r;e++){var t=document.createElement("colgroup");for(let e=0;e<r;e++)t.append(document.createElement("col"));o.append(t)}for(let t=0;t<r;t++){var d=document.createElement("tbody");for(let e=0;e<r;e++){var l=document.createElement("tr"),u=t*r+e;for(let e=0;e<a;e++){var n=document.createElement("td"),s=document.createElement("input"),m=(s.type="number",s.title="",s.required=!0,s.autocomplete="off",e);s.dataset.row=u+1,s.dataset.col=m+1,s.dataset.group=getGroupId(u,m,r)+1,s.ariaLabel=`Row ${u+1}, Column `+(m+1),n.append(s),l.append(n)}d.append(l)}o.append(d)}}function displayBoard(e,t,a,r=!1){for(var o of t.flat())r||o.classList.remove("solution"),r&&!o.disabled&&(o.value&&(o.dataset.val=o.value),o.classList.add("solution")),o.value=e[Number(o.dataset.row)-1][Number(o.dataset.col)-1]||Number(o.dataset.val)||void 0,o.disabled=r||!!o.value&&!o.dataset.val,r||delete o.dataset.val;for(var[d,l]of getNumberAmounts(e))d&&a[d-1]&&(a[d-1].textContent=l,globalThis.fullBoardNumberAmt.get(d)==l)&&a[d-1].classList.add("complete")}export{getNumberAmounts,createHTMLBoard,displayBoard};