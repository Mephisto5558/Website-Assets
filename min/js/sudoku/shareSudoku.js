"use strict";(()=>{globalThis.debug=!1;globalThis.debugBoard=globalThis.debug;globalThis.runBench=!1;var I=9,y=.2,w=.75;var q=document.querySelector("#sudoku"),L=document.querySelector("#difficulty-slider + output"),C=document.querySelector("#loading-container"),D=[...C.parentElement.children].filter(t=>t!=C),N=document.querySelector("#number-overview"),O=[...N.querySelectorAll("tbody > tr > td > span")],P=document.querySelector("#solution-btn"),R=document.querySelector("#regenerate-btn"),k=document.querySelector("#share-btn"),s=document.querySelector("#difficulty-slider"),c=document.querySelector("#size-option"),U=document.querySelector("#bg-color-switch"),_=document.querySelector("#fg-color-switch"),H=document.querySelector("#timer"),z=document.querySelector("#cancel-loading");var Z=document.querySelector("#popup-container > h3"),Q=document.querySelector("#popup-container > p");function x(){let t=Number(c.value)**2||I;c.value=Math.sqrt(t).toString();let e=Math.floor(t**2*y),r=Math.ceil(t**2*w);s.min=e.toString(),s.max=r.toString();let n=Number(s.value)||rando(e,r);return s.value=n.toString(),L.textContent=n.toString(),{size:t,minHoles:e,maxHoles:r,holes:n}}var S=62n,B="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function A(t){if(t===0n)return"0";let e="";for(;t>0n;t/=S)e=B[Number(t%S)]+e;return e}function h(t){return[...t].reduce((e,r)=>e*S+BigInt(B.indexOf(r)),0n)}function $(t,e){let r=BigInt(t.length),n=r+1n,a=0n;for(let i of e.flat())a=a*n+BigInt(i);let o={s:a,m:BigInt("0b"+t.flat().map(i=>i?"1":"0").join("")),d:r},u=new URL(globalThis.location.href);for(let[i,d]of Object.entries(o))u.searchParams.set(i,A(d));return u.toString()}function K(t){let e=new URLSearchParams(t?.toString()??globalThis.location.search),r=e.get("d"),n=e.get("s"),a=e.get("m");if(!(!n||!a||!r))try{let o=Number(h(r)),u=o*o,i=BigInt(o+1),d=h(a).toString(2).padStart(u,"0");c.value=Math.sqrt(o).toString(),s.value=[...d].filter(l=>Number(l)==0).length.toString(),x();let E=h(n),p=[];for(let l=0;l<u;l++){let m=E%i;p.push(Number(m)),E/=i}p.reverse();let g=[],f=[];for(let l=0;l<o;l++){let m=[],T=[];for(let b=0;b<o;b++){let v=l*o+b,M=p[v];T.push(M),m.push(d[v]==="1"?M:0)}g.push(m),f.push(T)}if(g.length!==o||f.length!==o)throw new Error(`Failed to construct board of size ${o}.`);return{fullBoard:f,board:g}}catch(o){console.error("Failed to parse shared Sudoku URL:",o),globalThis.history.replaceState({},"",globalThis.location.pathname);return}}})();
//# sourceMappingURL=shareSudoku.js.map
