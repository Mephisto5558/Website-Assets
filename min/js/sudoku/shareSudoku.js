"use strict";(()=>{globalThis.debug=!1;globalThis.debugBoard=globalThis.debug;globalThis.runBench=!1;var M=9,I=.2,B=.75;var w=document.querySelector("#sudoku"),L=document.querySelector("#difficulty-slider + output"),C=document.querySelector("#loading-container"),P=[...C.parentElement.children].filter(t=>t!=C),N=[...document.querySelectorAll("#number-overview > tbody > tr > td > span")],q=document.querySelector("#solution-btn"),k=document.querySelector("#regenerate-btn"),D=document.querySelector("#share-btn"),s=document.querySelector("#difficulty-slider"),c=document.querySelector("#size-option"),R=document.querySelector("#bg-color-switch"),_=document.querySelector("#fg-color-switch"),H=document.querySelector("#timer"),U=document.querySelector("#cancel-loading");var F=document.querySelector("#popup-container > h3"),X=document.querySelector("#popup-container > p");function x(){let t=Number(c.value)**2||M;c.value=Math.sqrt(t).toString();let e=Math.floor(t**2*I),n=Math.ceil(t**2*B);s.min=e.toString(),s.max=n.toString();let r=Number(s.value)||rando(e,n);return s.value=r.toString(),L.textContent=r.toString(),{size:t,minHoles:e,maxHoles:n,holes:r}}var h=62n,A="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function O(t){if(t===0n)return"0";let e="";for(;t>0n;t/=h)e=A[Number(t%h)]+e;return e}function S(t){return[...t].reduce((e,n)=>e*h+BigInt(A.indexOf(n)),0n)}function Y(t,e){let n=BigInt(t.length),r=n+1n,a=0n;for(let l of e.flat())a=a*r+BigInt(l);let o={s:a,m:BigInt("0b"+t.flat().map(l=>l?"1":"0").join("")),d:n},u=new URL(globalThis.location.href);for(let[l,d]of Object.entries(o))u.searchParams.set(l,O(d));return u.toString()}function V(t){let e=new URLSearchParams(t?.toString()??globalThis.location.search),n=e.get("d"),r=e.get("s"),a=e.get("m");if(!(!r||!a||!n))try{let o=Number(S(n)),u=o*o,l=BigInt(o+1),d=S(a).toString(2).padStart(u,"0");c.value=Math.sqrt(o).toString(),s.value=[...d].filter(i=>Number(i)==0).length.toString(),x();let E=S(r),p=[];for(let i=0;i<u;i++){let m=E%l;p.push(Number(m)),E/=l}p.reverse();let g=[],f=[];for(let i=0;i<o;i++){let m=[],T=[];for(let b=0;b<o;b++){let v=i*o+b,y=p[v];T.push(y),m.push(d[v]==="1"?y:0)}g.push(m),f.push(T)}if(g.length!==o||f.length!==o)throw new Error(`Failed to construct board of size ${o}.`);return{fullBoard:f,board:g}}catch(o){console.error("Failed to parse shared Sudoku URL:",o),globalThis.history.replaceState({},"",globalThis.location.pathname);return}}})();
//# sourceMappingURL=shareSudoku.js.map
