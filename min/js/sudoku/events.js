import{difficultyOutput,difficultySlider,htmlBoard,sizeOption,sudoku}from"./constants.js";import{checkErrors,startTimer,updateNumberOverviewSpan,updateMinMax}from"./utils.js";export default void 0;sudoku.addEventListener("keypress",e=>{if(e.preventDefault()," "===e.key)return e.target.value&&updateNumberOverviewSpan(Number(e.target.value),!1),e.target.value="",checkErrors(htmlBoard);var t;!/^\d$/.test(e.key)||!(t=Number(e.target.value+e.key))||t>htmlBoard.length||(globalThis.timerInterval||startTimer(),e.target.value&&updateNumberOverviewSpan(Number(e.target.value),!1),e.target.value=t,updateNumberOverviewSpan(t,!0),checkErrors(htmlBoard))});let eventKeys=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Tab","Home","End"];sudoku.addEventListener("keydown",r=>{if("Backspace"==r.key)return updateNumberOverviewSpan(Number(r.target.value),!1),r.target.value="",checkErrors(htmlBoard),r.preventDefault();if(eventKeys.includes(r.key)){r.preventDefault();var t=htmlBoard.length-1;let e;if(r.key==eventKeys[5]||r.key==eventKeys[6]){var a=r.key==eventKeys[5]?"find":"findLast";let t=e=>!(e.disabled||r.shiftKey&&e.dataset.group!=r.target.dataset.group);e=(r.ctrlKey?htmlBoard[a](e=>e.some(t)):htmlBoard[Number(r.target.dataset.row)-1])[a](t)}for(;(!e||e.disabled)&&(!e||e.dataset.row!=r.target.dataset.row||e.dataset.col!=r.target.dataset.col);){var d=Number((e??r.target).dataset.row)-1,s=Number((e??r.target).dataset.col)-1;switch(r.key){case eventKeys[0]:e=htmlBoard[0==d?t:d-1][s];break;case eventKeys[1]:e=htmlBoard[d==t?0:1+d][s];break;case eventKeys[2]:e=htmlBoard[d][0==s?t:s-1];break;case eventKeys[3]:e=htmlBoard[d][s==t?0:1+s];break;case eventKeys[4]:r.shiftKey?e=0==d&&0==s?htmlBoard[t][t]:0==s?htmlBoard[d-1][t]:htmlBoard[d][s-1]:e=d==t&&s==t?htmlBoard[0][0]:s==t?htmlBoard[1+d][0]:htmlBoard[d][1+s]}}e.focus()}}),document.querySelector("#stepper-up").addEventListener("click",()=>{sizeOption.stepUp(),sizeOption.dispatchEvent(new Event("change",{bubbles:!0}))}),document.querySelector("#stepper-down").addEventListener("click",()=>{sizeOption.stepDown(),sizeOption.dispatchEvent(new Event("change",{bubbles:!0}))}),sizeOption.addEventListener("change",updateMinMax),difficultySlider.addEventListener("input",e=>difficultyOutput.textContent=e.target.value);